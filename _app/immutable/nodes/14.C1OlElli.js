import{b as et,a as L,c as Mt}from"../chunks/3wy9VqJr.js";import{aC as Xt,aJ as N,B as W,a as At,g as h,C as G,aE as R,x as xt,o as P,v as ot,aD as Ct,q as z,aF as K,bn as Ot}from"../chunks/DEdbc7eF.js";import{s as it}from"../chunks/C8FaYV1O.js";import{i as Rt}from"../chunks/CeRQR2up.js";import{e as at,i as st}from"../chunks/DhHPHEYA.js";import{s as vt,r as pt}from"../chunks/CzaEsoBq.js";import{d as zt}from"../chunks/B2bP0puB.js";import{s as ht}from"../chunks/BwgZttHp.js";import{a as dt}from"../chunks/B_BqdAm4.js";import{b as kt}from"../chunks/jzo4OWF3.js";function Dt(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Pt(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var l=i.default;if(typeof l=="function"){var s=function x(){var c=!1;try{c=this instanceof x}catch{}return c?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};s.prototype=l.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(x){var c=Object.getOwnPropertyDescriptor(i,x);Object.defineProperty(s,x,c.get?c:{enumerable:!0,get:function(){return i[x]}})}),s}var U={exports:{}},Bt=U.exports,gt;function Nt(){return gt||(gt=1,(function(i){(function(l,s,x){function c(t){var e=this,n=a();e.next=function(){var r=2091639*e.s0+e.c*23283064365386963e-26;return e.s0=e.s1,e.s1=e.s2,e.s2=r-(e.c=r|0)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function f(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function p(t,e){var n=new c(t),r=e&&e.state,o=n.next;return o.int32=function(){return n.next()*4294967296|0},o.double=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.quick=o,r&&(typeof r=="object"&&f(r,n),o.state=function(){return f(n,{})}),o}function a(){var t=4022871197,e=function(n){n=String(n);for(var r=0;r<n.length;r++){t+=n.charCodeAt(r);var o=.02519603282416938*t;t=o>>>0,o-=t,o*=t,t=o>>>0,o-=t,t+=o*4294967296}return(t>>>0)*23283064365386963e-26};return e}s&&s.exports?s.exports=p:this.alea=p})(Bt,i)})(U)),U.exports}var H={exports:{}},Gt=H.exports,wt;function St(){return wt||(wt=1,(function(i){(function(l,s,x){function c(a){var t=this,e="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var r=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^r^r>>>8},a===(a|0)?t.x=a:e+=a;for(var n=0;n<e.length+64;n++)t.x^=e.charCodeAt(n)|0,t.next()}function f(a,t){return t.x=a.x,t.y=a.y,t.z=a.z,t.w=a.w,t}function p(a,t){var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xor128=p})(Gt,i)})(H)),H.exports}var J={exports:{}},Et=J.exports,mt;function Tt(){return mt||(mt=1,(function(i){(function(l,s,x){function c(a){var t=this,e="";t.next=function(){var r=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(r^r<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,a===(a|0)?t.x=a:e+=a;for(var n=0;n<e.length+64;n++)t.x^=e.charCodeAt(n)|0,n==e.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function f(a,t){return t.x=a.x,t.y=a.y,t.z=a.z,t.w=a.w,t.v=a.v,t.d=a.d,t}function p(a,t){var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xorwow=p})(Et,i)})(J)),J.exports}var Q={exports:{}},Vt=Q.exports,bt;function Ft(){return bt||(bt=1,(function(i){(function(l,s,x){function c(a){var t=this;t.next=function(){var n=t.x,r=t.i,o,u;return o=n[r],o^=o>>>7,u=o^o<<24,o=n[r+1&7],u^=o^o>>>10,o=n[r+3&7],u^=o^o>>>3,o=n[r+4&7],u^=o^o<<7,o=n[r+7&7],o=o^o<<13,u^=o^o<<9,n[r]=u,t.i=r+1&7,u};function e(n,r){var o,u=[];if(r===(r|0))u[0]=r;else for(r=""+r,o=0;o<r.length;++o)u[o&7]=u[o&7]<<15^r.charCodeAt(o)+u[o+1&7]<<13;for(;u.length<8;)u.push(0);for(o=0;o<8&&u[o]===0;++o);for(o==8?u[7]=-1:u[o],n.x=u,n.i=0,o=256;o>0;--o)n.next()}e(t,a)}function f(a,t){return t.x=a.x.slice(),t.i=a.i,t}function p(a,t){a==null&&(a=+new Date);var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(n.x&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xorshift7=p})(Vt,i)})(Q)),Q.exports}var Y={exports:{}},Lt=Y.exports,yt;function Wt(){return yt||(yt=1,(function(i){(function(l,s,x){function c(a){var t=this;t.next=function(){var n=t.w,r=t.X,o=t.i,u,v;return t.w=n=n+1640531527|0,v=r[o+34&127],u=r[o=o+1&127],v^=v<<13,u^=u<<17,v^=v>>>15,u^=u>>>12,v=r[o]=v^u,t.i=o,v+(n^n>>>16)|0};function e(n,r){var o,u,v,$,M,X=[],B=128;for(r===(r|0)?(u=r,r=null):(r=r+"\0",u=0,B=Math.max(B,r.length)),v=0,$=-32;$<B;++$)r&&(u^=r.charCodeAt(($+32)%r.length)),$===0&&(M=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,$>=0&&(M=M+1640531527|0,o=X[$&127]^=u+M,v=o==0?v+1:0);for(v>=128&&(X[(r&&r.length||0)&127]=-1),v=127,$=512;$>0;--$)u=X[v+34&127],o=X[v=v+1&127],u^=u<<13,o^=o<<17,u^=u>>>15,o^=o>>>12,X[v]=u^o;n.w=M,n.X=X,n.i=v}e(t,a)}function f(a,t){return t.i=a.i,t.w=a.w,t.X=a.X.slice(),t}function p(a,t){a==null&&(a=+new Date);var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(n.X&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xor4096=p})(Lt,i)})(Y)),Y.exports}var Z={exports:{}},Kt=Z.exports,_t;function Ut(){return _t||(_t=1,(function(i){(function(l,s,x){function c(a){var t=this,e="";t.next=function(){var r=t.b,o=t.c,u=t.d,v=t.a;return r=r<<25^r>>>7^o,o=o-u|0,u=u<<24^u>>>8^v,v=v-r|0,t.b=r=r<<20^r>>>12^o,t.c=o=o-u|0,t.d=u<<16^o>>>16^v,t.a=v-r|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,a===Math.floor(a)?(t.a=a/4294967296|0,t.b=a|0):e+=a;for(var n=0;n<e.length+20;n++)t.b^=e.charCodeAt(n)|0,t.next()}function f(a,t){return t.a=a.a,t.b=a.b,t.c=a.c,t.d=a.d,t}function p(a,t){var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.tychei=p})(Kt,i)})(Z)),Z.exports}var tt={exports:{}};const Ht={},Jt=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),Qt=Pt(Jt);var Yt=tt.exports,$t;function Zt(){return $t||($t=1,(function(i){(function(l,s,x){var c=256,f=6,p=52,a="random",t=x.pow(c,f),e=x.pow(2,p),n=e*2,r=c-1,o;function u(d,g,y){var m=[];g=g==!0?{entropy:!0}:g||{};var w=X(M(g.entropy?[d,S(s)]:d??B(),3),m),I=new v(m),q=function(){for(var j=I.g(f),A=t,C=0;j<e;)j=(j+C)*c,A*=c,C=I.g(1);for(;j>=n;)j/=2,A/=2,C>>>=1;return(j+C)/A};return q.int32=function(){return I.g(4)|0},q.quick=function(){return I.g(4)/4294967296},q.double=q,X(S(I.S),s),(g.pass||y||function(j,A,C,O){return O&&(O.S&&$(O,I),j.state=function(){return $(I,{})}),C?(x[a]=j,A):j})(q,w,"global"in g?g.global:this==x,g.state)}function v(d){var g,y=d.length,m=this,w=0,I=m.i=m.j=0,q=m.S=[];for(y||(d=[y++]);w<c;)q[w]=w++;for(w=0;w<c;w++)q[w]=q[I=r&I+d[w%y]+(g=q[w])],q[I]=g;(m.g=function(j){for(var A,C=0,O=m.i,b=m.j,_=m.S;j--;)A=_[O=r&O+1],C=C*c+_[r&(_[O]=_[b=r&b+A])+(_[b]=A)];return m.i=O,m.j=b,C})(c)}function $(d,g){return g.i=d.i,g.j=d.j,g.S=d.S.slice(),g}function M(d,g){var y=[],m=typeof d,w;if(g&&m=="object")for(w in d)try{y.push(M(d[w],g-1))}catch{}return y.length?y:m=="string"?d:d+"\0"}function X(d,g){for(var y=d+"",m,w=0;w<y.length;)g[r&w]=r&(m^=g[r&w]*19)+y.charCodeAt(w++);return S(g)}function B(){try{var d;return o&&(d=o.randomBytes)?d=d(c):(d=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(d)),S(d)}catch{var g=l.navigator,y=g&&g.plugins;return[+new Date,l,y,l.screen,S(s)]}}function S(d){return String.fromCharCode.apply(0,d)}if(X(x.random(),s),i.exports){i.exports=u;try{o=Qt}catch{}}else x["seed"+a]=u})(typeof self<"u"?self:Yt,[],Math)})(tt)),tt.exports}var ut,jt;function tr(){if(jt)return ut;jt=1;var i=Nt(),l=St(),s=Tt(),x=Ft(),c=Wt(),f=Ut(),p=Zt();return p.alea=i,p.xor128=l,p.xorwow=s,p.xorshift7=x,p.xor4096=c,p.tychei=f,ut=p,ut}var rr=tr();const er=Dt(rr);function ct(i){switch(i){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw new Error(`Invalid direction: ${i}`)}}function nr(i,l){return[i%l,Math.floor(i/l)]}function lt(i){return Array.from({length:i*i},(l,s)=>({index:s,walls:{top:!0,right:!0,bottom:!0,left:!0}}))}function rt(i,l){return{top:or(i,1,l),right:sr(i,1,l),bottom:ir(i,1,l),left:ar(i,1,l)}}function or(i,l,s){const x=s*s;return i+s*l<x?i+s*l:null}function ir(i,l,s){return i-s*l>=0?i-s*l:null}function ar(i,l,s){return i%s>=l?i-l:null}function sr(i,l,s){return i%s<s-l?i+l:null}function ur(i,l,s){const x=Object.entries(i).filter(([,c])=>c!==null&&!l.includes(c)).map(([c])=>c);return x.length===0?null:x[s(0,x.length-1)]}const cr=({mazeSize:i,randomInt:l})=>{const s=lt(i),x=l(0,i*i-1),c=[x],f=[x];for(;c.length>0;){const p=c[c.length-1],a=rt(p,i);let t=ur(a,f,l);if(t===null){c.pop();continue}const e=a[t],n=ct(t);s[p].walls[t]=!1,s[e].walls[n]=!1,f.push(e),c.push(e)}return{maze:s,startIndex:x,endIndex:f[f.length-1],history:f}},lr=({mazeSize:i,randomInt:l})=>{const s=lt(i),x=l(0,i*i-1),c=[x],f=[],p=a=>{const t=rt(a.index,i);for(const[e,n]of Object.entries(t))n===null||c.includes(n)||f.push([a,e])};for(p(s[x]);f.length>0;){const a=l(0,f.length-1),[t,e]=f[a],n=rt(t.index,i)[e];n!==null&&!c.includes(n)&&(s[t.index].walls[e]=!1,s[n].walls[ct(e)]=!1,c.push(n),p(s[n])),f.splice(a,1)}return{maze:s,startIndex:x,endIndex:c[c.length-1],history:c}},fr=({mazeSize:i,randomInt:l})=>{const s=lt(i),x=s.flatMap(t=>Object.keys(t.walls).map(e=>[t,e])).sort(()=>l(0,1)-.5),c=new Map(s.map(t=>[t,t]));function f(t){for(;c.get(t)!==t;)t=c.get(t);return t}function p(t,e){const n=f(t),r=f(e);c.set(r,n)}const a=[x[0][0].index];for(const[t,e]of x){const n=rt(t.index,i)[e];if(n==null)continue;const r=s[n];f(t)!==f(r)&&(p(t,r),t.walls[e]=!1,r.walls[ct(e)]=!1,a.push(n))}return{maze:s,startIndex:x[0][0].index,endIndex:x[x.length-1][0].index,history:a}},xr=i=>{switch(i.algorithm){case"prim":return lr(i);case"kruskal":return fr(i);default:return cr(i)}},vr={dfs:"Depth-First Search",prim:"Prim's",kruskal:"Kruskal's"};var pr=et("<option> </option>"),hr=et('<div class="cell svelte-szxyv4"></div>'),dr=et('<div class="row svelte-szxyv4"></div>'),gr=et(`<p>This is a maze generator that I made for fun.</p> <p>I'm hoping to use this as a starting point for some simple browser-based games.</p> <div class="maze-info"><p> </p> <p> </p></div> <div class="maze-controls svelte-szxyv4"><h3>Controls</h3> <div class="control svelte-szxyv4"><label for="maze-size">Maze size:</label> <input id="maze-size" type="number"/></div> <div class="control svelte-szxyv4"><label for="seed">Seed:</label> <input id="seed" type="text"/> <button>Reset RNG</button></div> <div class="control svelte-szxyv4"><label for="algorithm">Algorithm:</label> <select id="algorithm"></select></div> <div class="control svelte-szxyv4"><button>Regenerate Maze</button></div></div> <div class="maze svelte-szxyv4"></div>`,1);function Xr(i,l){Xt(l,!0);let s=N(W(new Map)),x=N(W(new Date().toISOString().split("T")[0]));function c(b){if(!h(s).has(b)){const _=er(b);h(s).set(b,(k,E)=>Math.floor(_()*(E-k+1))+k)}return h(s).get(b)}let f=N(25),p=N(0),a=N(0),t=N(W([])),e=N(W([])),n=N("prim"),r=K(()=>nr(h(p),h(f)));At(()=>{o()});function o(){const b=c(h(x));let _=xr({mazeSize:h(f),randomInt:b,algorithm:h(n)});G(t,_.maze,!0),G(p,_.startIndex,!0),G(a,_.endIndex,!0),G(e,_.history,!0)}function u(){h(s).delete(h(x)),G(s,new Map(h(s)),!0)}var v=gr(),$=R(xt(v),4),M=P($),X=P(M);z(M);var B=R(M,2),S=P(B);z(B),z($);var d=R($,2),g=R(P(d),2),y=R(P(g),2);pt(y),vt(y,"min",1),vt(y,"max",100),z(g);var m=R(g,2),w=R(P(m),2);pt(w);var I=R(w,2);I.__click=u,z(m);var q=R(m,2),j=R(P(q),2);at(j,21,()=>Object.entries(vr),st,(b,_)=>{var k=K(()=>Ot(h(_),2));let E=()=>h(k)[0],V=()=>h(k)[1];var D=pr(),T=P(D,!0);z(D);var F={};ot(()=>{it(T,V()),F!==(F=E())&&(D.value=(D.__value=E())??"")}),L(b,D)}),z(j),z(q);var A=R(q,2),C=P(A);C.__click=o,z(A),z(d);var O=R(d,2);at(O,21,()=>Array.from({length:h(f)},(b,_)=>_),st,(b,_)=>{var k=dr();at(k,21,()=>Array.from({length:h(f)},(E,V)=>V),st,(E,V)=>{const D=K(()=>h(_)*h(f)+h(V)),T=K(()=>h(t)[h(D)]);var F=Mt(),qt=xt(F);{var It=nt=>{var ft=hr();ot(()=>ht(ft,`
                        ${h(p)===h(D)?"background-color: var(--maze-start-bg);":h(a)===h(D)?"background-color: var(--maze-end-bg);":""}
                        border-top: 2px solid ${h(T).walls.top?"var(--maze-wall-color)":"transparent"};
                        border-right: 2px solid ${h(T).walls.right?"var(--maze-wall-color)":"transparent"};
                        border-bottom: 2px solid ${h(T).walls.bottom?"var(--maze-wall-color)":"transparent"};
                        border-left: 2px solid ${h(T).walls.left?"var(--maze-wall-color)":"transparent"};
                    `)),L(nt,ft)};Rt(qt,nt=>{h(T)&&nt(It)})}L(E,F)}),z(k),L(b,k)}),z(O),ot(()=>{it(X,`Starting point: ${h(r)[0]+1}, ${h(r)[1]+1}`),it(S,`Maze size: ${h(f)??""} x ${h(f)??""}`),ht(O,`width: ${h(f)*20}px; height: ${h(f)*20}px;`)}),dt(y,()=>h(f),b=>G(f,b)),dt(w,()=>h(x),b=>G(x,b)),kt(j,()=>h(n),b=>G(n,b)),L(i,v),Ct()}zt(["click"]);export{Xr as component};

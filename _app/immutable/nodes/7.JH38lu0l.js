import{t as rt,a as F,c as At}from"../chunks/CKTJNp-r.js";import{e as jt,at as Ot,aG as z,ad as It,al as I,ab as xt,am as P,ao as ot,f as d,au as Rt,i as B,an as R,x as it}from"../chunks/BeLyubsk.js";import{l as kt,d as Ct,s as at}from"../chunks/lg9IpDXR.js";import{a as St,p as G,i as Dt}from"../chunks/pj1zEQCu.js";import{e as ut,i as st}from"../chunks/BX6o-h94.js";import{s as K,r as pt}from"../chunks/DQGYhnch.js";import{b as dt}from"../chunks/B6hoGrOb.js";function Mt(n,l,a){if(n.multiple)return zt(n,l);for(var f of n.options){var c=W(f);if(St(c,l)){f.selected=!0;return}}(!a||l!==void 0)&&(n.selectedIndex=-1)}function Pt(n,l){jt(()=>{var a=new MutationObserver(()=>{var f=n.__value;Mt(n,f)});return a.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Gt(n,l,a=l){var f=!0;kt(n,"change",c=>{var v=c?"[selected]":":checked",p;if(n.multiple)p=[].map.call(n.querySelectorAll(v),W);else{var u=n.querySelector(v)??n.querySelector("option:not([disabled])");p=u&&W(u)}a(p)}),jt(()=>{var c=l();if(Mt(n,c,f),f&&c===void 0){var v=n.querySelector(":checked");v!==null&&(c=W(v),a(c))}n.__value=c,f=!1}),Pt(n)}function zt(n,l){for(var a of n.options)a.selected=~l.indexOf(W(a))}function W(n){return"__value"in n?n.__value:n.value}function Bt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Nt(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var l=n.default;if(typeof l=="function"){var a=function f(){return this instanceof f?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};a.prototype=l.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach(function(f){var c=Object.getOwnPropertyDescriptor(n,f);Object.defineProperty(a,f,c.get?c:{enumerable:!0,get:function(){return n[f]}})}),a}var U={exports:{}},Tt=U.exports,ht;function Et(){return ht||(ht=1,function(n){(function(l,a,f){function c(t){var r=this,o=u();r.next=function(){var e=2091639*r.s0+r.c*23283064365386963e-26;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=e|0)},r.c=1,r.s0=o(" "),r.s1=o(" "),r.s2=o(" "),r.s0-=o(t),r.s0<0&&(r.s0+=1),r.s1-=o(t),r.s1<0&&(r.s1+=1),r.s2-=o(t),r.s2<0&&(r.s2+=1),o=null}function v(t,r){return r.c=t.c,r.s0=t.s0,r.s1=t.s1,r.s2=t.s2,r}function p(t,r){var o=new c(t),e=r&&r.state,i=o.next;return i.int32=function(){return o.next()*4294967296|0},i.double=function(){return i()+(i()*2097152|0)*11102230246251565e-32},i.quick=i,e&&(typeof e=="object"&&v(e,o),i.state=function(){return v(o,{})}),i}function u(){var t=4022871197,r=function(o){o=String(o);for(var e=0;e<o.length;e++){t+=o.charCodeAt(e);var i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26};return r}a&&a.exports?a.exports=p:this.alea=p})(Tt,n)}(U)),U.exports}var H={exports:{}},Vt=H.exports,gt;function Lt(){return gt||(gt=1,function(n){(function(l,a,f){function c(u){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},u===(u|0)?t.x=u:r+=u;for(var o=0;o<r.length+64;o++)t.x^=r.charCodeAt(o)|0,t.next()}function v(u,t){return t.x=u.x,t.y=u.y,t.z=u.z,t.w=u.w,t}function p(u,t){var r=new c(u),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,s=(r.next()>>>0)/4294967296,x=(i+s)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(typeof o=="object"&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xor128=p})(Vt,n)}(H)),H.exports}var J={exports:{}},Ft=J.exports,wt;function Wt(){return wt||(wt=1,function(n){(function(l,a,f){function c(u){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,u===(u|0)?t.x=u:r+=u;for(var o=0;o<r.length+64;o++)t.x^=r.charCodeAt(o)|0,o==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function v(u,t){return t.x=u.x,t.y=u.y,t.z=u.z,t.w=u.w,t.v=u.v,t.d=u.d,t}function p(u,t){var r=new c(u),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,s=(r.next()>>>0)/4294967296,x=(i+s)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(typeof o=="object"&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xorwow=p})(Ft,n)}(J)),J.exports}var Q={exports:{}},Kt=Q.exports,bt;function Ut(){return bt||(bt=1,function(n){(function(l,a,f){function c(u){var t=this;t.next=function(){var o=t.x,e=t.i,i,s;return i=o[e],i^=i>>>7,s=i^i<<24,i=o[e+1&7],s^=i^i>>>10,i=o[e+3&7],s^=i^i>>>3,i=o[e+4&7],s^=i^i<<7,i=o[e+7&7],i=i^i<<13,s^=i^i<<9,o[e]=s,t.i=e+1&7,s};function r(o,e){var i,s=[];if(e===(e|0))s[0]=e;else for(e=""+e,i=0;i<e.length;++i)s[i&7]=s[i&7]<<15^e.charCodeAt(i)+s[i+1&7]<<13;for(;s.length<8;)s.push(0);for(i=0;i<8&&s[i]===0;++i);for(i==8?s[7]=-1:s[i],o.x=s,o.i=0,i=256;i>0;--i)o.next()}r(t,u)}function v(u,t){return t.x=u.x.slice(),t.i=u.i,t}function p(u,t){u==null&&(u=+new Date);var r=new c(u),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,s=(r.next()>>>0)/4294967296,x=(i+s)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(o.x&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xorshift7=p})(Kt,n)}(Q)),Q.exports}var Y={exports:{}},Ht=Y.exports,yt;function Jt(){return yt||(yt=1,function(n){(function(l,a,f){function c(u){var t=this;t.next=function(){var o=t.w,e=t.X,i=t.i,s,x;return t.w=o=o+1640531527|0,x=e[i+34&127],s=e[i=i+1&127],x^=x<<13,s^=s<<17,x^=x>>>15,s^=s>>>12,x=e[i]=x^s,t.i=i,x+(o^o>>>16)|0};function r(o,e){var i,s,x,q,C,O=[],N=128;for(e===(e|0)?(s=e,e=null):(e=e+"\0",s=0,N=Math.max(N,e.length)),x=0,q=-32;q<N;++q)e&&(s^=e.charCodeAt((q+32)%e.length)),q===0&&(C=s),s^=s<<10,s^=s>>>15,s^=s<<4,s^=s>>>13,q>=0&&(C=C+1640531527|0,i=O[q&127]^=s+C,x=i==0?x+1:0);for(x>=128&&(O[(e&&e.length||0)&127]=-1),x=127,q=4*128;q>0;--q)s=O[x+34&127],i=O[x=x+1&127],s^=s<<13,i^=i<<17,s^=s>>>15,i^=i>>>12,O[x]=s^i;o.w=C,o.X=O,o.i=x}r(t,u)}function v(u,t){return t.i=u.i,t.w=u.w,t.X=u.X.slice(),t}function p(u,t){u==null&&(u=+new Date);var r=new c(u),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,s=(r.next()>>>0)/4294967296,x=(i+s)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(o.X&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xor4096=p})(Ht,n)}(Y)),Y.exports}var Z={exports:{}},Qt=Z.exports,mt;function Yt(){return mt||(mt=1,function(n){(function(l,a,f){function c(u){var t=this,r="";t.next=function(){var e=t.b,i=t.c,s=t.d,x=t.a;return e=e<<25^e>>>7^i,i=i-s|0,s=s<<24^s>>>8^x,x=x-e|0,t.b=e=e<<20^e>>>12^i,t.c=i=i-s|0,t.d=s<<16^i>>>16^x,t.a=x-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,u===Math.floor(u)?(t.a=u/4294967296|0,t.b=u|0):r+=u;for(var o=0;o<r.length+20;o++)t.b^=r.charCodeAt(o)|0,t.next()}function v(u,t){return t.a=u.a,t.b=u.b,t.c=u.c,t.d=u.d,t}function p(u,t){var r=new c(u),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,s=(r.next()>>>0)/4294967296,x=(i+s)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(typeof o=="object"&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.tychei=p})(Qt,n)}(Z)),Z.exports}var tt={exports:{}};const Zt={},te=Object.freeze(Object.defineProperty({__proto__:null,default:Zt},Symbol.toStringTag,{value:"Module"})),ee=Nt(te);var re=tt.exports,_t;function ne(){return _t||(_t=1,function(n){(function(l,a,f){var c=256,v=6,p=52,u="random",t=f.pow(c,v),r=f.pow(2,p),o=r*2,e=c-1,i;function s(h,g,m){var b=[];g=g==!0?{entropy:!0}:g||{};var y=O(C(g.entropy?[h,S(a)]:h??N(),3),b),j=new x(b),$=function(){for(var X=j.g(v),k=t,A=0;X<r;)X=(X+A)*c,k*=c,A=j.g(1);for(;X>=o;)X/=2,k/=2,A>>>=1;return(X+A)/k};return $.int32=function(){return j.g(4)|0},$.quick=function(){return j.g(4)/4294967296},$.double=$,O(S(j.S),a),(g.pass||m||function(X,k,A,w){return w&&(w.S&&q(w,j),X.state=function(){return q(j,{})}),A?(f[u]=X,k):X})($,y,"global"in g?g.global:this==f,g.state)}function x(h){var g,m=h.length,b=this,y=0,j=b.i=b.j=0,$=b.S=[];for(m||(h=[m++]);y<c;)$[y]=y++;for(y=0;y<c;y++)$[y]=$[j=e&j+h[y%m]+(g=$[y])],$[j]=g;(b.g=function(X){for(var k,A=0,w=b.i,_=b.j,M=b.S;X--;)k=M[w=e&w+1],A=A*c+M[e&(M[w]=M[_=e&_+k])+(M[_]=k)];return b.i=w,b.j=_,A})(c)}function q(h,g){return g.i=h.i,g.j=h.j,g.S=h.S.slice(),g}function C(h,g){var m=[],b=typeof h,y;if(g&&b=="object")for(y in h)try{m.push(C(h[y],g-1))}catch{}return m.length?m:b=="string"?h:h+"\0"}function O(h,g){for(var m=h+"",b,y=0;y<m.length;)g[e&y]=e&(b^=g[e&y]*19)+m.charCodeAt(y++);return S(g)}function N(){try{var h;return i&&(h=i.randomBytes)?h=h(c):(h=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(h)),S(h)}catch{var g=l.navigator,m=g&&g.plugins;return[+new Date,l,m,l.screen,S(a)]}}function S(h){return String.fromCharCode.apply(0,h)}if(O(f.random(),a),n.exports){n.exports=s;try{i=ee}catch{}}else f["seed"+u]=s})(typeof self<"u"?self:re,[],Math)}(tt)),tt.exports}var lt,qt;function oe(){if(qt)return lt;qt=1;var n=Et(),l=Lt(),a=Wt(),f=Ut(),c=Jt(),v=Yt(),p=ne();return p.alea=n,p.xor128=l,p.xorwow=a,p.xorshift7=f,p.xor4096=c,p.tychei=v,lt=p,lt}var ie=oe();const ae=Bt(ie);function ct(n){switch(n){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw new Error(`Invalid direction: ${n}`)}}function ue(n,l){return[n%l,Math.floor(n/l)]}function ft(n){return Array.from({length:n*n},(l,a)=>({index:a,walls:{top:!0,right:!0,bottom:!0,left:!0}}))}function et(n,l){return{top:se(n,1,l),right:fe(n,1,l),bottom:le(n,1,l),left:ce(n,1,l)}}function se(n,l,a){const f=a*a;return n+a*l<f?n+a*l:null}function le(n,l,a){return n-a*l>=0?n-a*l:null}function ce(n,l,a){return n%a>=l?n-l:null}function fe(n,l,a){return n%a<a-l?n+l:null}function ve(n,l,a){const f=Object.entries(n).filter(([,c])=>c!==null&&!l.includes(c)).map(([c])=>c);return f.length===0?null:f[a(0,f.length-1)]}const xe=({mazeSize:n,randomInt:l})=>{const a=ft(n),f=l(0,n*n-1),c=[f],v=[f];for(;c.length>0;){const p=c[c.length-1],u=et(p,n);let t=ve(u,v,l);if(t===null){c.pop();continue}const r=u[t],o=ct(t);a[p].walls[t]=!1,a[r].walls[o]=!1,v.push(r),c.push(r)}return{maze:a,startIndex:f,endIndex:v[v.length-1],history:v}},pe=({mazeSize:n,randomInt:l})=>{const a=ft(n),f=l(0,n*n-1),c=[f],v=[],p=u=>{const t=et(u.index,n);for(const[r,o]of Object.entries(t))o===null||c.includes(o)||v.push([u,r])};for(p(a[f]);v.length>0;){const u=l(0,v.length-1),[t,r]=v[u],o=et(t.index,n)[r];o!==null&&!c.includes(o)&&(a[t.index].walls[r]=!1,a[o].walls[ct(r)]=!1,c.push(o),p(a[o])),v.splice(u,1)}return{maze:a,startIndex:f,endIndex:c[c.length-1],history:c}},de=({mazeSize:n,randomInt:l})=>{const a=ft(n),f=a.flatMap(t=>Object.keys(t.walls).map(r=>[t,r])).sort(()=>l(0,1)-.5),c=new Map(a.map(t=>[t,t]));function v(t){for(;c.get(t)!==t;)t=c.get(t);return t}function p(t,r){const o=v(t),e=v(r);c.set(e,o)}const u=[f[0][0].index];for(const[t,r]of f){const o=et(t.index,n)[r];if(o==null)continue;const e=a[o];v(t)!==v(e)&&(p(t,e),t.walls[r]=!1,e.walls[ct(r)]=!1,u.push(o))}return{maze:a,startIndex:f[0][0].index,endIndex:f[f.length-1][0].index,history:u}},he=n=>{switch(n.algorithm){case"prim":return pe(n);case"kruskal":return de(n);case"dfs":default:return xe(n)}},ge={dfs:"Depth-First Search",prim:"Prim's",kruskal:"Kruskal's"};function we(n,l,a){d(l).delete(d(a)),B(l,G(new Map(d(l))))}var be=rt("<option> </option>"),ye=rt('<div class="cell svelte-u7ylt0"></div>'),me=rt('<div class="row svelte-u7ylt0"></div>'),_e=rt('<h1>Maze Generator</h1> <p>This is a maze generator that I made for fun.</p> <div class="maze-info"><p> </p> <p> </p></div> <div class="maze-controls svelte-u7ylt0"><h3>Controls</h3> <div class="control svelte-u7ylt0"><label for="maze-size">Maze size:</label> <input id="maze-size" type="number"></div> <div class="control svelte-u7ylt0"><label for="seed">Seed:</label> <input id="seed" type="text"> <button>Reset RNG</button></div> <div class="control svelte-u7ylt0"><label for="algorithm">Algorithm:</label> <select id="algorithm"></select></div> <div class="control svelte-u7ylt0"><button>Regenerate Maze</button></div></div> <div class="maze svelte-u7ylt0"></div>',1);function Ie(n,l){Ot(l,!0);let a=z(G(new Map)),f=z(G(new Date().toISOString().split("T")[0]));function c(w){if(!d(a).has(w)){const _=ae(w);d(a).set(w,(M,T)=>Math.floor(_()*(T-M+1))+M)}return d(a).get(w)}let v=z(25),p=z(0),u=z(0),t=z(G([])),r=z(G([])),o=z("prim"),e=it(()=>ue(d(p),d(v)));It(()=>{i()});function i(){const w=c(d(f));let _=he({mazeSize:d(v),randomInt:w,algorithm:d(o)});B(t,G(_.maze)),B(p,G(_.startIndex)),B(u,G(_.endIndex)),B(r,G(_.history))}var s=_e(),x=I(xt(s),4),q=P(x),C=P(q);R(q);var O=I(q,2),N=P(O);R(O),R(x);var S=I(x,2),h=I(P(S),2),g=I(P(h),2);pt(g),K(g,"min",1),K(g,"max",100),R(h);var m=I(h,2),b=I(P(m),2);pt(b);var y=I(b,2);y.__click=[we,a,f],R(m);var j=I(m,2),$=I(P(j),2);ut($,21,()=>Object.entries(ge),st,(w,_)=>{let M=()=>d(_)[0],T=()=>d(_)[1];var D=be(),E={},V=P(D,!0);R(D),ot(()=>{E!==(E=M())&&(D.value=(D.__value=M())==null?"":M()),at(V,T())}),F(w,D)}),R($),R(j);var X=I(j,2),k=P(X);k.__click=i,R(X),R(S);var A=I(S,2);ut(A,21,()=>Array.from({length:d(v)},(w,_)=>_),st,(w,_)=>{var M=me();ut(M,21,()=>Array.from({length:d(v)},(T,D)=>D),st,(T,D)=>{var E=At();const V=it(()=>d(_)*d(v)+d(D)),L=it(()=>d(t)[d(V)]);var $t=xt(E);{var Xt=nt=>{var vt=ye();ot(()=>K(vt,"style",`
                        ${(d(p)===d(V)?"background-color: var(--maze-start-bg);":d(u)===d(V)?"background-color: var(--maze-end-bg);":"")??""}
                        border-top: 2px solid ${(d(L).walls.top?"var(--maze-wall-color)":"transparent")??""};
                        border-right: 2px solid ${(d(L).walls.right?"var(--maze-wall-color)":"transparent")??""};
                        border-bottom: 2px solid ${(d(L).walls.bottom?"var(--maze-wall-color)":"transparent")??""};
                        border-left: 2px solid ${(d(L).walls.left?"var(--maze-wall-color)":"transparent")??""};
                    `)),F(nt,vt)};Dt($t,nt=>{d(L)&&nt(Xt)})}F(T,E)}),R(M),F(w,M)}),R(A),ot(()=>{at(C,`Starting point: ${d(e)[0]+1}, ${d(e)[1]+1}`),at(N,`Maze size: ${d(v)??""} x ${d(v)??""}`),K(A,"style",`width: ${d(v)*20}px; height: ${d(v)*20}px;`)}),dt(g,()=>d(v),w=>B(v,w)),dt(b,()=>d(f),w=>B(f,w)),Gt($,()=>d(o),w=>B(o,w)),F(n,s),Rt()}Ct(["click"]);export{Ie as component};

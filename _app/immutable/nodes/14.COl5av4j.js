import{t as rt,a as F,c as $t}from"../chunks/CXnjyUtD.js";import{aq as Mt,aN as z,f as Xt,at as O,ap as xt,au as N,ar as nt,j as d,as as At,q as G,av as R,l as ot}from"../chunks/Dyuul76F.js";import{d as It,s as it}from"../chunks/MxA1b9NE.js";import{i as Ot}from"../chunks/DN3lzGhq.js";import{e as at,i as st}from"../chunks/C7t3uJYU.js";import{s as W,r as pt}from"../chunks/aHW3g2Pa.js";import{a as vt}from"../chunks/THN5qdqg.js";import{b as Rt}from"../chunks/ChjwGFyX.js";import{p as B}from"../chunks/BEH7FtSJ.js";function Ct(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function kt(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var l=i.default;if(typeof l=="function"){var s=function x(){return this instanceof x?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};s.prototype=l.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(x){var c=Object.getOwnPropertyDescriptor(i,x);Object.defineProperty(s,x,c.get?c:{enumerable:!0,get:function(){return i[x]}})}),s}var K={exports:{}},Dt=K.exports,dt;function Pt(){return dt||(dt=1,function(i){(function(l,s,x){function c(t){var e=this,n=a();e.next=function(){var r=2091639*e.s0+e.c*23283064365386963e-26;return e.s0=e.s1,e.s1=e.s2,e.s2=r-(e.c=r|0)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function f(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function v(t,e){var n=new c(t),r=e&&e.state,o=n.next;return o.int32=function(){return n.next()*4294967296|0},o.double=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.quick=o,r&&(typeof r=="object"&&f(r,n),o.state=function(){return f(n,{})}),o}function a(){var t=4022871197,e=function(n){n=String(n);for(var r=0;r<n.length;r++){t+=n.charCodeAt(r);var o=.02519603282416938*t;t=o>>>0,o-=t,o*=t,t=o>>>0,o-=t,t+=o*4294967296}return(t>>>0)*23283064365386963e-26};return e}s&&s.exports?s.exports=v:this.alea=v})(Dt,i)}(K)),K.exports}var U={exports:{}},Nt=U.exports,ht;function Bt(){return ht||(ht=1,function(i){(function(l,s,x){function c(a){var t=this,e="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var r=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^r^r>>>8},a===(a|0)?t.x=a:e+=a;for(var n=0;n<e.length+64;n++)t.x^=e.charCodeAt(n)|0,t.next()}function f(a,t){return t.x=a.x,t.y=a.y,t.z=a.z,t.w=a.w,t}function v(a,t){var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,p=(o+u)/(1<<21);while(p===0);return p},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=v:this.xor128=v})(Nt,i)}(U)),U.exports}var H={exports:{}},zt=H.exports,gt;function Gt(){return gt||(gt=1,function(i){(function(l,s,x){function c(a){var t=this,e="";t.next=function(){var r=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(r^r<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,a===(a|0)?t.x=a:e+=a;for(var n=0;n<e.length+64;n++)t.x^=e.charCodeAt(n)|0,n==e.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function f(a,t){return t.x=a.x,t.y=a.y,t.z=a.z,t.w=a.w,t.v=a.v,t.d=a.d,t}function v(a,t){var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,p=(o+u)/(1<<21);while(p===0);return p},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=v:this.xorwow=v})(zt,i)}(H)),H.exports}var J={exports:{}},St=J.exports,wt;function Tt(){return wt||(wt=1,function(i){(function(l,s,x){function c(a){var t=this;t.next=function(){var n=t.x,r=t.i,o,u;return o=n[r],o^=o>>>7,u=o^o<<24,o=n[r+1&7],u^=o^o>>>10,o=n[r+3&7],u^=o^o>>>3,o=n[r+4&7],u^=o^o<<7,o=n[r+7&7],o=o^o<<13,u^=o^o<<9,n[r]=u,t.i=r+1&7,u};function e(n,r){var o,u=[];if(r===(r|0))u[0]=r;else for(r=""+r,o=0;o<r.length;++o)u[o&7]=u[o&7]<<15^r.charCodeAt(o)+u[o+1&7]<<13;for(;u.length<8;)u.push(0);for(o=0;o<8&&u[o]===0;++o);for(o==8?u[7]=-1:u[o],n.x=u,n.i=0,o=256;o>0;--o)n.next()}e(t,a)}function f(a,t){return t.x=a.x.slice(),t.i=a.i,t}function v(a,t){a==null&&(a=+new Date);var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,p=(o+u)/(1<<21);while(p===0);return p},r.int32=e.next,r.quick=r,n&&(n.x&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=v:this.xorshift7=v})(St,i)}(J)),J.exports}var Q={exports:{}},Et=Q.exports,mt;function Vt(){return mt||(mt=1,function(i){(function(l,s,x){function c(a){var t=this;t.next=function(){var n=t.w,r=t.X,o=t.i,u,p;return t.w=n=n+1640531527|0,p=r[o+34&127],u=r[o=o+1&127],p^=p<<13,u^=u<<17,p^=p>>>15,u^=u>>>12,p=r[o]=p^u,t.i=o,p+(n^n>>>16)|0};function e(n,r){var o,u,p,j,k,I=[],S=128;for(r===(r|0)?(u=r,r=null):(r=r+"\0",u=0,S=Math.max(S,r.length)),p=0,j=-32;j<S;++j)r&&(u^=r.charCodeAt((j+32)%r.length)),j===0&&(k=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,j>=0&&(k=k+1640531527|0,o=I[j&127]^=u+k,p=o==0?p+1:0);for(p>=128&&(I[(r&&r.length||0)&127]=-1),p=127,j=4*128;j>0;--j)u=I[p+34&127],o=I[p=p+1&127],u^=u<<13,o^=o<<17,u^=u>>>15,o^=o>>>12,I[p]=u^o;n.w=k,n.X=I,n.i=p}e(t,a)}function f(a,t){return t.i=a.i,t.w=a.w,t.X=a.X.slice(),t}function v(a,t){a==null&&(a=+new Date);var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,p=(o+u)/(1<<21);while(p===0);return p},r.int32=e.next,r.quick=r,n&&(n.X&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=v:this.xor4096=v})(Et,i)}(Q)),Q.exports}var Y={exports:{}},Lt=Y.exports,bt;function Ft(){return bt||(bt=1,function(i){(function(l,s,x){function c(a){var t=this,e="";t.next=function(){var r=t.b,o=t.c,u=t.d,p=t.a;return r=r<<25^r>>>7^o,o=o-u|0,u=u<<24^u>>>8^p,p=p-r|0,t.b=r=r<<20^r>>>12^o,t.c=o=o-u|0,t.d=u<<16^o>>>16^p,t.a=p-r|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,a===Math.floor(a)?(t.a=a/4294967296|0,t.b=a|0):e+=a;for(var n=0;n<e.length+20;n++)t.b^=e.charCodeAt(n)|0,t.next()}function f(a,t){return t.a=a.a,t.b=a.b,t.c=a.c,t.d=a.d,t}function v(a,t){var e=new c(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,p=(o+u)/(1<<21);while(p===0);return p},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=v:this.tychei=v})(Lt,i)}(Y)),Y.exports}var Z={exports:{}};const Wt={},Kt=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"})),Ut=kt(Kt);var Ht=Z.exports,yt;function Jt(){return yt||(yt=1,function(i){(function(l,s,x){var c=256,f=6,v=52,a="random",t=x.pow(c,f),e=x.pow(2,v),n=e*2,r=c-1,o;function u(h,g,y){var m=[];g=g==!0?{entropy:!0}:g||{};var b=I(k(g.entropy?[h,D(s)]:h??S(),3),m),q=new p(m),M=function(){for(var X=q.g(f),C=t,A=0;X<e;)X=(X+A)*c,C*=c,A=q.g(1);for(;X>=n;)X/=2,C/=2,A>>>=1;return(X+A)/C};return M.int32=function(){return q.g(4)|0},M.quick=function(){return q.g(4)/4294967296},M.double=M,I(D(q.S),s),(g.pass||y||function(X,C,A,w){return w&&(w.S&&j(w,q),X.state=function(){return j(q,{})}),A?(x[a]=X,C):X})(M,b,"global"in g?g.global:this==x,g.state)}function p(h){var g,y=h.length,m=this,b=0,q=m.i=m.j=0,M=m.S=[];for(y||(h=[y++]);b<c;)M[b]=b++;for(b=0;b<c;b++)M[b]=M[q=r&q+h[b%y]+(g=M[b])],M[q]=g;(m.g=function(X){for(var C,A=0,w=m.i,_=m.j,$=m.S;X--;)C=$[w=r&w+1],A=A*c+$[r&($[w]=$[_=r&_+C])+($[_]=C)];return m.i=w,m.j=_,A})(c)}function j(h,g){return g.i=h.i,g.j=h.j,g.S=h.S.slice(),g}function k(h,g){var y=[],m=typeof h,b;if(g&&m=="object")for(b in h)try{y.push(k(h[b],g-1))}catch{}return y.length?y:m=="string"?h:h+"\0"}function I(h,g){for(var y=h+"",m,b=0;b<y.length;)g[r&b]=r&(m^=g[r&b]*19)+y.charCodeAt(b++);return D(g)}function S(){try{var h;return o&&(h=o.randomBytes)?h=h(c):(h=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(h)),D(h)}catch{var g=l.navigator,y=g&&g.plugins;return[+new Date,l,y,l.screen,D(s)]}}function D(h){return String.fromCharCode.apply(0,h)}if(I(x.random(),s),i.exports){i.exports=u;try{o=Ut}catch{}}else x["seed"+a]=u})(typeof self<"u"?self:Ht,[],Math)}(Z)),Z.exports}var ut,_t;function Qt(){if(_t)return ut;_t=1;var i=Pt(),l=Bt(),s=Gt(),x=Tt(),c=Vt(),f=Ft(),v=Jt();return v.alea=i,v.xor128=l,v.xorwow=s,v.xorshift7=x,v.xor4096=c,v.tychei=f,ut=v,ut}var Yt=Qt();const Zt=Ct(Yt);function lt(i){switch(i){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw new Error(`Invalid direction: ${i}`)}}function tr(i,l){return[i%l,Math.floor(i/l)]}function ct(i){return Array.from({length:i*i},(l,s)=>({index:s,walls:{top:!0,right:!0,bottom:!0,left:!0}}))}function tt(i,l){return{top:rr(i,1,l),right:or(i,1,l),bottom:er(i,1,l),left:nr(i,1,l)}}function rr(i,l,s){const x=s*s;return i+s*l<x?i+s*l:null}function er(i,l,s){return i-s*l>=0?i-s*l:null}function nr(i,l,s){return i%s>=l?i-l:null}function or(i,l,s){return i%s<s-l?i+l:null}function ir(i,l,s){const x=Object.entries(i).filter(([,c])=>c!==null&&!l.includes(c)).map(([c])=>c);return x.length===0?null:x[s(0,x.length-1)]}const ar=({mazeSize:i,randomInt:l})=>{const s=ct(i),x=l(0,i*i-1),c=[x],f=[x];for(;c.length>0;){const v=c[c.length-1],a=tt(v,i);let t=ir(a,f,l);if(t===null){c.pop();continue}const e=a[t],n=lt(t);s[v].walls[t]=!1,s[e].walls[n]=!1,f.push(e),c.push(e)}return{maze:s,startIndex:x,endIndex:f[f.length-1],history:f}},sr=({mazeSize:i,randomInt:l})=>{const s=ct(i),x=l(0,i*i-1),c=[x],f=[],v=a=>{const t=tt(a.index,i);for(const[e,n]of Object.entries(t))n===null||c.includes(n)||f.push([a,e])};for(v(s[x]);f.length>0;){const a=l(0,f.length-1),[t,e]=f[a],n=tt(t.index,i)[e];n!==null&&!c.includes(n)&&(s[t.index].walls[e]=!1,s[n].walls[lt(e)]=!1,c.push(n),v(s[n])),f.splice(a,1)}return{maze:s,startIndex:x,endIndex:c[c.length-1],history:c}},ur=({mazeSize:i,randomInt:l})=>{const s=ct(i),x=s.flatMap(t=>Object.keys(t.walls).map(e=>[t,e])).sort(()=>l(0,1)-.5),c=new Map(s.map(t=>[t,t]));function f(t){for(;c.get(t)!==t;)t=c.get(t);return t}function v(t,e){const n=f(t),r=f(e);c.set(r,n)}const a=[x[0][0].index];for(const[t,e]of x){const n=tt(t.index,i)[e];if(n==null)continue;const r=s[n];f(t)!==f(r)&&(v(t,r),t.walls[e]=!1,r.walls[lt(e)]=!1,a.push(n))}return{maze:s,startIndex:x[0][0].index,endIndex:x[x.length-1][0].index,history:a}},lr=i=>{switch(i.algorithm){case"prim":return sr(i);case"kruskal":return ur(i);case"dfs":default:return ar(i)}},cr={dfs:"Depth-First Search",prim:"Prim's",kruskal:"Kruskal's"};function fr(i,l,s){d(l).delete(d(s)),G(l,B(new Map(d(l))))}var xr=rt("<option> </option>"),pr=rt('<div class="cell svelte-u7ylt0"></div>'),vr=rt('<div class="row svelte-u7ylt0"></div>'),dr=rt(`<p>This is a maze generator that I made for fun.</p> <p>I'm hoping to use this as a starting point for some simple browser-based games.</p> <div class="maze-info"><p> </p> <p> </p></div> <div class="maze-controls svelte-u7ylt0"><h3>Controls</h3> <div class="control svelte-u7ylt0"><label for="maze-size">Maze size:</label> <input id="maze-size" type="number"></div> <div class="control svelte-u7ylt0"><label for="seed">Seed:</label> <input id="seed" type="text"> <button>Reset RNG</button></div> <div class="control svelte-u7ylt0"><label for="algorithm">Algorithm:</label> <select id="algorithm"></select></div> <div class="control svelte-u7ylt0"><button>Regenerate Maze</button></div></div> <div class="maze svelte-u7ylt0"></div>`,1);function $r(i,l){Mt(l,!0);let s=z(B(new Map)),x=z(B(new Date().toISOString().split("T")[0]));function c(w){if(!d(s).has(w)){const _=Zt(w);d(s).set(w,($,T)=>Math.floor(_()*(T-$+1))+$)}return d(s).get(w)}let f=z(25),v=z(0),a=z(0),t=z(B([])),e=z(B([])),n=z("prim"),r=ot(()=>tr(d(v),d(f)));Xt(()=>{o()});function o(){const w=c(d(x));let _=lr({mazeSize:d(f),randomInt:w,algorithm:d(n)});G(t,B(_.maze)),G(v,B(_.startIndex)),G(a,B(_.endIndex)),G(e,B(_.history))}var u=dr(),p=O(xt(u),4),j=N(p),k=N(j);R(j);var I=O(j,2),S=N(I);R(I),R(p);var D=O(p,2),h=O(N(D),2),g=O(N(h),2);pt(g),W(g,"min",1),W(g,"max",100),R(h);var y=O(h,2),m=O(N(y),2);pt(m);var b=O(m,2);b.__click=[fr,s,x],R(y);var q=O(y,2),M=O(N(q),2);at(M,21,()=>Object.entries(cr),st,(w,_)=>{let $=()=>d(_)[0],T=()=>d(_)[1];var P=xr(),E={},V=N(P,!0);R(P),nt(()=>{E!==(E=$())&&(P.value=(P.__value=$())==null?"":$()),it(V,T())}),F(w,P)}),R(M),R(q);var X=O(q,2),C=N(X);C.__click=o,R(X),R(D);var A=O(D,2);at(A,21,()=>Array.from({length:d(f)},(w,_)=>_),st,(w,_)=>{var $=vr();at($,21,()=>Array.from({length:d(f)},(T,P)=>P),st,(T,P)=>{var E=$t();const V=ot(()=>d(_)*d(f)+d(P)),L=ot(()=>d(t)[d(V)]);var jt=xt(E);{var qt=et=>{var ft=pr();nt(()=>W(ft,"style",`
                        ${(d(v)===d(V)?"background-color: var(--maze-start-bg);":d(a)===d(V)?"background-color: var(--maze-end-bg);":"")??""}
                        border-top: 2px solid ${(d(L).walls.top?"var(--maze-wall-color)":"transparent")??""};
                        border-right: 2px solid ${(d(L).walls.right?"var(--maze-wall-color)":"transparent")??""};
                        border-bottom: 2px solid ${(d(L).walls.bottom?"var(--maze-wall-color)":"transparent")??""};
                        border-left: 2px solid ${(d(L).walls.left?"var(--maze-wall-color)":"transparent")??""};
                    `)),F(et,ft)};Ot(jt,et=>{d(L)&&et(qt)})}F(T,E)}),R($),F(w,$)}),R(A),nt(()=>{it(k,`Starting point: ${d(r)[0]+1}, ${d(r)[1]+1}`),it(S,`Maze size: ${d(f)??""} x ${d(f)??""}`),W(A,"style",`width: ${d(f)*20}px; height: ${d(f)*20}px;`)}),vt(g,()=>d(f),w=>G(f,w)),vt(m,()=>d(x),w=>G(x,w)),Rt(M,()=>d(n),w=>G(n,w)),F(i,u),At()}It(["click"]);export{$r as component};

import{b as nt,a as W,c as Mt}from"../chunks/3wy9VqJr.js";import{aC as Xt,aJ as G,B as K,a as At,g as d,C as S,aE as O,x as vt,o as k,v as it,aD as Ct,q as M,w as Ot,aF as U,bn as Rt}from"../chunks/DEdbc7eF.js";import{s as at}from"../chunks/C8FaYV1O.js";import{i as kt}from"../chunks/CeRQR2up.js";import{e as st,i as ut}from"../chunks/DhHPHEYA.js";import{s as pt,r as dt}from"../chunks/CzaEsoBq.js";import{d as Dt}from"../chunks/B2bP0puB.js";import{s as ht}from"../chunks/BwgZttHp.js";import{a as gt}from"../chunks/B_BqdAm4.js";import{b as Pt}from"../chunks/jzo4OWF3.js";function Bt(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Nt(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var c=i.default;if(typeof c=="function"){var s=function x(){var l=!1;try{l=this instanceof x}catch{}return l?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};s.prototype=c.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(x){var l=Object.getOwnPropertyDescriptor(i,x);Object.defineProperty(s,x,l.get?l:{enumerable:!0,get:function(){return i[x]}})}),s}var H={exports:{}},Gt=H.exports,wt;function St(){return wt||(wt=1,(function(i){(function(c,s,x){function l(t){var e=this,n=a();e.next=function(){var r=2091639*e.s0+e.c*23283064365386963e-26;return e.s0=e.s1,e.s1=e.s2,e.s2=r-(e.c=r|0)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function f(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function p(t,e){var n=new l(t),r=e&&e.state,o=n.next;return o.int32=function(){return n.next()*4294967296|0},o.double=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.quick=o,r&&(typeof r=="object"&&f(r,n),o.state=function(){return f(n,{})}),o}function a(){var t=4022871197,e=function(n){n=String(n);for(var r=0;r<n.length;r++){t+=n.charCodeAt(r);var o=.02519603282416938*t;t=o>>>0,o-=t,o*=t,t=o>>>0,o-=t,t+=o*4294967296}return(t>>>0)*23283064365386963e-26};return e}s&&s.exports?s.exports=p:this.alea=p})(Gt,i)})(H)),H.exports}var J={exports:{}},Et=J.exports,mt;function Tt(){return mt||(mt=1,(function(i){(function(c,s,x){function l(a){var t=this,e="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var r=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^r^r>>>8},a===(a|0)?t.x=a:e+=a;for(var n=0;n<e.length+64;n++)t.x^=e.charCodeAt(n)|0,t.next()}function f(a,t){return t.x=a.x,t.y=a.y,t.z=a.z,t.w=a.w,t}function p(a,t){var e=new l(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xor128=p})(Et,i)})(J)),J.exports}var Q={exports:{}},Vt=Q.exports,yt;function Ft(){return yt||(yt=1,(function(i){(function(c,s,x){function l(a){var t=this,e="";t.next=function(){var r=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(r^r<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,a===(a|0)?t.x=a:e+=a;for(var n=0;n<e.length+64;n++)t.x^=e.charCodeAt(n)|0,n==e.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function f(a,t){return t.x=a.x,t.y=a.y,t.z=a.z,t.w=a.w,t.v=a.v,t.d=a.d,t}function p(a,t){var e=new l(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xorwow=p})(Vt,i)})(Q)),Q.exports}var Y={exports:{}},Lt=Y.exports,bt;function Wt(){return bt||(bt=1,(function(i){(function(c,s,x){function l(a){var t=this;t.next=function(){var n=t.x,r=t.i,o,u;return o=n[r],o^=o>>>7,u=o^o<<24,o=n[r+1&7],u^=o^o>>>10,o=n[r+3&7],u^=o^o>>>3,o=n[r+4&7],u^=o^o<<7,o=n[r+7&7],o=o^o<<13,u^=o^o<<9,n[r]=u,t.i=r+1&7,u};function e(n,r){var o,u=[];if(r===(r|0))u[0]=r;else for(r=""+r,o=0;o<r.length;++o)u[o&7]=u[o&7]<<15^r.charCodeAt(o)+u[o+1&7]<<13;for(;u.length<8;)u.push(0);for(o=0;o<8&&u[o]===0;++o);for(o==8?u[7]=-1:u[o],n.x=u,n.i=0,o=256;o>0;--o)n.next()}e(t,a)}function f(a,t){return t.x=a.x.slice(),t.i=a.i,t}function p(a,t){a==null&&(a=+new Date);var e=new l(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(n.x&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xorshift7=p})(Lt,i)})(Y)),Y.exports}var Z={exports:{}},Kt=Z.exports,_t;function Ut(){return _t||(_t=1,(function(i){(function(c,s,x){function l(a){var t=this;t.next=function(){var n=t.w,r=t.X,o=t.i,u,v;return t.w=n=n+1640531527|0,v=r[o+34&127],u=r[o=o+1&127],v^=v<<13,u^=u<<17,v^=v>>>15,u^=u>>>12,v=r[o]=v^u,t.i=o,v+(n^n>>>16)|0};function e(n,r){var o,u,v,b,X,A=[],B=128;for(r===(r|0)?(u=r,r=null):(r=r+"\0",u=0,B=Math.max(B,r.length)),v=0,b=-32;b<B;++b)r&&(u^=r.charCodeAt((b+32)%r.length)),b===0&&(X=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,b>=0&&(X=X+1640531527|0,o=A[b&127]^=u+X,v=o==0?v+1:0);for(v>=128&&(A[(r&&r.length||0)&127]=-1),v=127,b=512;b>0;--b)u=A[v+34&127],o=A[v=v+1&127],u^=u<<13,o^=o<<17,u^=u>>>15,o^=o>>>12,A[v]=u^o;n.w=X,n.X=A,n.i=v}e(t,a)}function f(a,t){return t.i=a.i,t.w=a.w,t.X=a.X.slice(),t}function p(a,t){a==null&&(a=+new Date);var e=new l(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(n.X&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.xor4096=p})(Kt,i)})(Z)),Z.exports}var tt={exports:{}},Ht=tt.exports,$t;function Jt(){return $t||($t=1,(function(i){(function(c,s,x){function l(a){var t=this,e="";t.next=function(){var r=t.b,o=t.c,u=t.d,v=t.a;return r=r<<25^r>>>7^o,o=o-u|0,u=u<<24^u>>>8^v,v=v-r|0,t.b=r=r<<20^r>>>12^o,t.c=o=o-u|0,t.d=u<<16^o>>>16^v,t.a=v-r|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,a===Math.floor(a)?(t.a=a/4294967296|0,t.b=a|0):e+=a;for(var n=0;n<e.length+20;n++)t.b^=e.charCodeAt(n)|0,t.next()}function f(a,t){return t.a=a.a,t.b=a.b,t.c=a.c,t.d=a.d,t}function p(a,t){var e=new l(a),n=t&&t.state,r=function(){return(e.next()>>>0)/4294967296};return r.double=function(){do var o=e.next()>>>11,u=(e.next()>>>0)/4294967296,v=(o+u)/(1<<21);while(v===0);return v},r.int32=e.next,r.quick=r,n&&(typeof n=="object"&&f(n,e),r.state=function(){return f(e,{})}),r}s&&s.exports?s.exports=p:this.tychei=p})(Ht,i)})(tt)),tt.exports}var rt={exports:{}};const Qt={},Yt=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"})),Zt=Nt(Yt);var tr=rt.exports,zt;function rr(){return zt||(zt=1,(function(i){(function(c,s,x){var l=256,f=6,p=52,a="random",t=x.pow(l,f),e=x.pow(2,p),n=e*2,r=l-1,o;function u(h,g,_){var w=[];g=g==!0?{entropy:!0}:g||{};var m=A(X(g.entropy?[h,E(s)]:h??B(),3),w),$=new v(w),j=function(){for(var z=$.g(f),q=t,I=0;z<e;)z=(z+I)*l,q*=l,I=$.g(1);for(;z>=n;)z/=2,q/=2,I>>>=1;return(z+I)/q};return j.int32=function(){return $.g(4)|0},j.quick=function(){return $.g(4)/4294967296},j.double=j,A(E($.S),s),(g.pass||_||function(z,q,I,R){return R&&(R.S&&b(R,$),z.state=function(){return b($,{})}),I?(x[a]=z,q):z})(j,m,"global"in g?g.global:this==x,g.state)}function v(h){var g,_=h.length,w=this,m=0,$=w.i=w.j=0,j=w.S=[];for(_||(h=[_++]);m<l;)j[m]=m++;for(m=0;m<l;m++)j[m]=j[$=r&$+h[m%_]+(g=j[m])],j[$]=g;(w.g=function(z){for(var q,I=0,R=w.i,N=w.j,y=w.S;z--;)q=y[R=r&R+1],I=I*l+y[r&(y[R]=y[N=r&N+q])+(y[N]=q)];return w.i=R,w.j=N,I})(l)}function b(h,g){return g.i=h.i,g.j=h.j,g.S=h.S.slice(),g}function X(h,g){var _=[],w=typeof h,m;if(g&&w=="object")for(m in h)try{_.push(X(h[m],g-1))}catch{}return _.length?_:w=="string"?h:h+"\0"}function A(h,g){for(var _=h+"",w,m=0;m<_.length;)g[r&m]=r&(w^=g[r&m]*19)+_.charCodeAt(m++);return E(g)}function B(){try{var h;return o&&(h=o.randomBytes)?h=h(l):(h=new Uint8Array(l),(c.crypto||c.msCrypto).getRandomValues(h)),E(h)}catch{var g=c.navigator,_=g&&g.plugins;return[+new Date,c,_,c.screen,E(s)]}}function E(h){return String.fromCharCode.apply(0,h)}if(A(x.random(),s),i.exports){i.exports=u;try{o=Zt}catch{}}else x["seed"+a]=u})(typeof self<"u"?self:tr,[],Math)})(rt)),rt.exports}var lt,jt;function er(){if(jt)return lt;jt=1;var i=St(),c=Tt(),s=Ft(),x=Wt(),l=Ut(),f=Jt(),p=rr();return p.alea=i,p.xor128=c,p.xorwow=s,p.xorshift7=x,p.xor4096=l,p.tychei=f,lt=p,lt}var nr=er();const or=Bt(nr);function ct(i){switch(i){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw new Error(`Invalid direction: ${i}`)}}function ir(i,c){return[i%c,Math.floor(i/c)]}function ft(i){return Array.from({length:i*i},(c,s)=>({index:s,walls:{top:!0,right:!0,bottom:!0,left:!0}}))}function et(i,c){return{top:ar(i,1,c),right:lr(i,1,c),bottom:sr(i,1,c),left:ur(i,1,c)}}function ar(i,c,s){const x=s*s;return i+s*c<x?i+s*c:null}function sr(i,c,s){return i-s*c>=0?i-s*c:null}function ur(i,c,s){return i%s>=c?i-c:null}function lr(i,c,s){return i%s<s-c?i+c:null}function cr(i,c,s){const x=Object.entries(i).filter(([,l])=>l!==null&&!c.includes(l)).map(([l])=>l);return x.length===0?null:x[s(0,x.length-1)]}const fr=({mazeSize:i,randomInt:c})=>{const s=ft(i),x=c(0,i*i-1),l=[x],f=[x];for(;l.length>0;){const p=l[l.length-1],a=et(p,i);let t=cr(a,f,c);if(t===null){l.pop();continue}const e=a[t],n=ct(t);s[p].walls[t]=!1,s[e].walls[n]=!1,f.push(e),l.push(e)}return{maze:s,startIndex:x,endIndex:f[f.length-1],history:f}},xr=({mazeSize:i,randomInt:c})=>{const s=ft(i),x=c(0,i*i-1),l=[x],f=[],p=a=>{const t=et(a.index,i);for(const[e,n]of Object.entries(t))n===null||l.includes(n)||f.push([a,e])};for(p(s[x]);f.length>0;){const a=c(0,f.length-1),[t,e]=f[a],n=et(t.index,i)[e];n!==null&&!l.includes(n)&&(s[t.index].walls[e]=!1,s[n].walls[ct(e)]=!1,l.push(n),p(s[n])),f.splice(a,1)}return{maze:s,startIndex:x,endIndex:l[l.length-1],history:l}},vr=({mazeSize:i,randomInt:c})=>{const s=ft(i),x=s.flatMap(t=>Object.keys(t.walls).map(e=>[t,e])).sort(()=>c(0,1)-.5),l=new Map(s.map(t=>[t,t]));function f(t){for(;l.get(t)!==t;)t=l.get(t);return t}function p(t,e){const n=f(t),r=f(e);l.set(r,n)}const a=[x[0][0].index];for(const[t,e]of x){const n=et(t.index,i)[e];if(n==null)continue;const r=s[n];f(t)!==f(r)&&(p(t,r),t.walls[e]=!1,r.walls[ct(e)]=!1,a.push(n))}return{maze:s,startIndex:x[0][0].index,endIndex:x[x.length-1][0].index,history:a}},pr=i=>{switch(i.algorithm){case"prim":return xr(i);case"kruskal":return vr(i);default:return fr(i)}},dr={dfs:"Depth-First Search",prim:"Prim's",kruskal:"Kruskal's"};var hr=nt("<option> </option>"),gr=nt('<div class="cell svelte-szxyv4"></div>'),wr=nt('<div class="row svelte-szxyv4"></div>'),mr=nt(`<p>This is a maze generator that I made for fun.</p> <p>I'm hoping to use this as a starting point for some simple browser-based games.</p> <div class="maze-info"><p> </p> <p> </p></div> <div class="maze-controls svelte-szxyv4"><h3>Controls</h3> <div class="control svelte-szxyv4"><label for="maze-size">Maze size:</label> <div class="maze-size-input svelte-szxyv4"><input id="maze-size" type="number"/> <p class="maze-size-warning svelte-szxyv4">Note: very large maze sizes can freeze or crash your browser. (e.g. 500).</p></div></div> <div class="control svelte-szxyv4"><label for="seed">Seed:</label> <input id="seed" type="text"/> <button>Reset RNG</button></div> <div class="control svelte-szxyv4"><label for="algorithm">Algorithm:</label> <select id="algorithm"></select></div> <div class="control svelte-szxyv4"><button>Regenerate Maze</button></div></div> <div class="maze svelte-szxyv4"></div>`,1);function Ar(i,c){Xt(c,!0);let s=G(K(new Map)),x=G(K(new Date().toISOString().split("T")[0]));function l(y){if(!d(s).has(y)){const C=or(y);d(s).set(y,(D,T)=>Math.floor(C()*(T-D+1))+D)}return d(s).get(y)}let f=G(25),p=G(0),a=G(0),t=G(K([])),e=G(K([])),n=G("prim"),r=U(()=>ir(d(p),d(f)));At(()=>{o()});function o(){const y=l(d(x));let C=pr({mazeSize:d(f),randomInt:y,algorithm:d(n)});S(t,C.maze,!0),S(p,C.startIndex,!0),S(a,C.endIndex,!0),S(e,C.history,!0)}function u(){d(s).delete(d(x)),S(s,new Map(d(s)),!0)}var v=mr(),b=O(vt(v),4),X=k(b),A=k(X);M(X);var B=O(X,2),E=k(B);M(B),M(b);var h=O(b,2),g=O(k(h),2),_=O(k(g),2),w=k(_);dt(w),pt(w,"min",1),pt(w,"max",100),Ot(2),M(_),M(g);var m=O(g,2),$=O(k(m),2);dt($);var j=O($,2);j.__click=u,M(m);var z=O(m,2),q=O(k(z),2);st(q,21,()=>Object.entries(dr),ut,(y,C)=>{var D=U(()=>Rt(d(C),2));let T=()=>d(D)[0],F=()=>d(D)[1];var P=hr(),V=k(P,!0);M(P);var L={};it(()=>{at(V,F()),L!==(L=T())&&(P.value=(P.__value=T())??"")}),W(y,P)}),M(q),M(z);var I=O(z,2),R=k(I);R.__click=o,M(I),M(h);var N=O(h,2);st(N,21,()=>Array.from({length:d(f)},(y,C)=>C),ut,(y,C)=>{var D=wr();st(D,21,()=>Array.from({length:d(f)},(T,F)=>F),ut,(T,F)=>{const P=U(()=>d(C)*d(f)+d(F)),V=U(()=>d(t)[d(P)]);var L=Mt(),qt=vt(L);{var It=ot=>{var xt=gr();it(()=>ht(xt,`
                        ${d(p)===d(P)?"background-color: var(--maze-start-bg);":d(a)===d(P)?"background-color: var(--maze-end-bg);":""}
                        border-top: 2px solid ${d(V).walls.top?"var(--maze-wall-color)":"transparent"};
                        border-right: 2px solid ${d(V).walls.right?"var(--maze-wall-color)":"transparent"};
                        border-bottom: 2px solid ${d(V).walls.bottom?"var(--maze-wall-color)":"transparent"};
                        border-left: 2px solid ${d(V).walls.left?"var(--maze-wall-color)":"transparent"};
                    `)),W(ot,xt)};kt(qt,ot=>{d(V)&&ot(It)})}W(T,L)}),M(D),W(y,D)}),M(N),it(()=>{at(A,`Starting point: ${d(r)[0]+1}, ${d(r)[1]+1}`),at(E,`Maze size: ${d(f)??""} x ${d(f)??""}`),ht(N,`width: ${d(f)*20}px; height: ${d(f)*20}px;`)}),gt(w,()=>d(f),y=>S(f,y)),gt($,()=>d(x),y=>S(x,y)),Pt(q,()=>d(n),y=>S(n,y)),W(i,v),Ct()}Dt(["click"]);export{Ar as component};

import{t as rt,a as F,c as At}from"../chunks/CByQ9JHw.js";import{H as jt,ap as It,aL as N,f as Ot,as as O,ao as xt,at as P,aq as ot,j as d,ar as Rt,o as z,au as R,l as it}from"../chunks/CCTiSMZp.js";import{l as kt,d as Ct,s as at}from"../chunks/NeNTXivj.js";import{i as St}from"../chunks/BQyXyV8_.js";import{e as st,i as ut}from"../chunks/kwAp3RpN.js";import{s as H,r as pt}from"../chunks/D0AAtD2c.js";import{a as dt}from"../chunks/CXgyCfud.js";import{i as Dt,p as B}from"../chunks/BICGnPwA.js";function Mt(n,l,a){if(n.multiple)return Nt(n,l);for(var f of n.options){var c=W(f);if(Dt(c,l)){f.selected=!0;return}}(!a||l!==void 0)&&(n.selectedIndex=-1)}function Pt(n,l){jt(()=>{var a=new MutationObserver(()=>{var f=n.__value;Mt(n,f)});return a.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Bt(n,l,a=l){var f=!0;kt(n,"change",c=>{var v=c?"[selected]":":checked",p;if(n.multiple)p=[].map.call(n.querySelectorAll(v),W);else{var s=n.querySelector(v)??n.querySelector("option:not([disabled])");p=s&&W(s)}a(p)}),jt(()=>{var c=l();if(Mt(n,c,f),f&&c===void 0){var v=n.querySelector(":checked");v!==null&&(c=W(v),a(c))}n.__value=c,f=!1}),Pt(n)}function Nt(n,l){for(var a of n.options)a.selected=~l.indexOf(W(a))}function W(n){return"__value"in n?n.__value:n.value}function zt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Gt(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var l=n.default;if(typeof l=="function"){var a=function f(){return this instanceof f?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};a.prototype=l.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach(function(f){var c=Object.getOwnPropertyDescriptor(n,f);Object.defineProperty(a,f,c.get?c:{enumerable:!0,get:function(){return n[f]}})}),a}var K={exports:{}},Tt=K.exports,ht;function Et(){return ht||(ht=1,function(n){(function(l,a,f){function c(t){var r=this,o=s();r.next=function(){var e=2091639*r.s0+r.c*23283064365386963e-26;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=e|0)},r.c=1,r.s0=o(" "),r.s1=o(" "),r.s2=o(" "),r.s0-=o(t),r.s0<0&&(r.s0+=1),r.s1-=o(t),r.s1<0&&(r.s1+=1),r.s2-=o(t),r.s2<0&&(r.s2+=1),o=null}function v(t,r){return r.c=t.c,r.s0=t.s0,r.s1=t.s1,r.s2=t.s2,r}function p(t,r){var o=new c(t),e=r&&r.state,i=o.next;return i.int32=function(){return o.next()*4294967296|0},i.double=function(){return i()+(i()*2097152|0)*11102230246251565e-32},i.quick=i,e&&(typeof e=="object"&&v(e,o),i.state=function(){return v(o,{})}),i}function s(){var t=4022871197,r=function(o){o=String(o);for(var e=0;e<o.length;e++){t+=o.charCodeAt(e);var i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26};return r}a&&a.exports?a.exports=p:this.alea=p})(Tt,n)}(K)),K.exports}var U={exports:{}},Lt=U.exports,gt;function Vt(){return gt||(gt=1,function(n){(function(l,a,f){function c(s){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},s===(s|0)?t.x=s:r+=s;for(var o=0;o<r.length+64;o++)t.x^=r.charCodeAt(o)|0,t.next()}function v(s,t){return t.x=s.x,t.y=s.y,t.z=s.z,t.w=s.w,t}function p(s,t){var r=new c(s),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,u=(r.next()>>>0)/4294967296,x=(i+u)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(typeof o=="object"&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xor128=p})(Lt,n)}(U)),U.exports}var J={exports:{}},Ft=J.exports,wt;function Wt(){return wt||(wt=1,function(n){(function(l,a,f){function c(s){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,s===(s|0)?t.x=s:r+=s;for(var o=0;o<r.length+64;o++)t.x^=r.charCodeAt(o)|0,o==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function v(s,t){return t.x=s.x,t.y=s.y,t.z=s.z,t.w=s.w,t.v=s.v,t.d=s.d,t}function p(s,t){var r=new c(s),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,u=(r.next()>>>0)/4294967296,x=(i+u)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(typeof o=="object"&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xorwow=p})(Ft,n)}(J)),J.exports}var Q={exports:{}},Ht=Q.exports,bt;function Kt(){return bt||(bt=1,function(n){(function(l,a,f){function c(s){var t=this;t.next=function(){var o=t.x,e=t.i,i,u;return i=o[e],i^=i>>>7,u=i^i<<24,i=o[e+1&7],u^=i^i>>>10,i=o[e+3&7],u^=i^i>>>3,i=o[e+4&7],u^=i^i<<7,i=o[e+7&7],i=i^i<<13,u^=i^i<<9,o[e]=u,t.i=e+1&7,u};function r(o,e){var i,u=[];if(e===(e|0))u[0]=e;else for(e=""+e,i=0;i<e.length;++i)u[i&7]=u[i&7]<<15^e.charCodeAt(i)+u[i+1&7]<<13;for(;u.length<8;)u.push(0);for(i=0;i<8&&u[i]===0;++i);for(i==8?u[7]=-1:u[i],o.x=u,o.i=0,i=256;i>0;--i)o.next()}r(t,s)}function v(s,t){return t.x=s.x.slice(),t.i=s.i,t}function p(s,t){s==null&&(s=+new Date);var r=new c(s),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,u=(r.next()>>>0)/4294967296,x=(i+u)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(o.x&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xorshift7=p})(Ht,n)}(Q)),Q.exports}var Y={exports:{}},Ut=Y.exports,mt;function Jt(){return mt||(mt=1,function(n){(function(l,a,f){function c(s){var t=this;t.next=function(){var o=t.w,e=t.X,i=t.i,u,x;return t.w=o=o+1640531527|0,x=e[i+34&127],u=e[i=i+1&127],x^=x<<13,u^=u<<17,x^=x>>>15,u^=u>>>12,x=e[i]=x^u,t.i=i,x+(o^o>>>16)|0};function r(o,e){var i,u,x,q,C,I=[],G=128;for(e===(e|0)?(u=e,e=null):(e=e+"\0",u=0,G=Math.max(G,e.length)),x=0,q=-32;q<G;++q)e&&(u^=e.charCodeAt((q+32)%e.length)),q===0&&(C=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,q>=0&&(C=C+1640531527|0,i=I[q&127]^=u+C,x=i==0?x+1:0);for(x>=128&&(I[(e&&e.length||0)&127]=-1),x=127,q=4*128;q>0;--q)u=I[x+34&127],i=I[x=x+1&127],u^=u<<13,i^=i<<17,u^=u>>>15,i^=i>>>12,I[x]=u^i;o.w=C,o.X=I,o.i=x}r(t,s)}function v(s,t){return t.i=s.i,t.w=s.w,t.X=s.X.slice(),t}function p(s,t){s==null&&(s=+new Date);var r=new c(s),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,u=(r.next()>>>0)/4294967296,x=(i+u)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(o.X&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.xor4096=p})(Ut,n)}(Y)),Y.exports}var Z={exports:{}},Qt=Z.exports,yt;function Yt(){return yt||(yt=1,function(n){(function(l,a,f){function c(s){var t=this,r="";t.next=function(){var e=t.b,i=t.c,u=t.d,x=t.a;return e=e<<25^e>>>7^i,i=i-u|0,u=u<<24^u>>>8^x,x=x-e|0,t.b=e=e<<20^e>>>12^i,t.c=i=i-u|0,t.d=u<<16^i>>>16^x,t.a=x-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,s===Math.floor(s)?(t.a=s/4294967296|0,t.b=s|0):r+=s;for(var o=0;o<r.length+20;o++)t.b^=r.charCodeAt(o)|0,t.next()}function v(s,t){return t.a=s.a,t.b=s.b,t.c=s.c,t.d=s.d,t}function p(s,t){var r=new c(s),o=t&&t.state,e=function(){return(r.next()>>>0)/4294967296};return e.double=function(){do var i=r.next()>>>11,u=(r.next()>>>0)/4294967296,x=(i+u)/(1<<21);while(x===0);return x},e.int32=r.next,e.quick=e,o&&(typeof o=="object"&&v(o,r),e.state=function(){return v(r,{})}),e}a&&a.exports?a.exports=p:this.tychei=p})(Qt,n)}(Z)),Z.exports}var tt={exports:{}};const Zt={},te=Object.freeze(Object.defineProperty({__proto__:null,default:Zt},Symbol.toStringTag,{value:"Module"})),ee=Gt(te);var re=tt.exports,_t;function ne(){return _t||(_t=1,function(n){(function(l,a,f){var c=256,v=6,p=52,s="random",t=f.pow(c,v),r=f.pow(2,p),o=r*2,e=c-1,i;function u(h,g,y){var b=[];g=g==!0?{entropy:!0}:g||{};var m=I(C(g.entropy?[h,S(a)]:h??G(),3),b),j=new x(b),$=function(){for(var X=j.g(v),k=t,A=0;X<r;)X=(X+A)*c,k*=c,A=j.g(1);for(;X>=o;)X/=2,k/=2,A>>>=1;return(X+A)/k};return $.int32=function(){return j.g(4)|0},$.quick=function(){return j.g(4)/4294967296},$.double=$,I(S(j.S),a),(g.pass||y||function(X,k,A,w){return w&&(w.S&&q(w,j),X.state=function(){return q(j,{})}),A?(f[s]=X,k):X})($,m,"global"in g?g.global:this==f,g.state)}function x(h){var g,y=h.length,b=this,m=0,j=b.i=b.j=0,$=b.S=[];for(y||(h=[y++]);m<c;)$[m]=m++;for(m=0;m<c;m++)$[m]=$[j=e&j+h[m%y]+(g=$[m])],$[j]=g;(b.g=function(X){for(var k,A=0,w=b.i,_=b.j,M=b.S;X--;)k=M[w=e&w+1],A=A*c+M[e&(M[w]=M[_=e&_+k])+(M[_]=k)];return b.i=w,b.j=_,A})(c)}function q(h,g){return g.i=h.i,g.j=h.j,g.S=h.S.slice(),g}function C(h,g){var y=[],b=typeof h,m;if(g&&b=="object")for(m in h)try{y.push(C(h[m],g-1))}catch{}return y.length?y:b=="string"?h:h+"\0"}function I(h,g){for(var y=h+"",b,m=0;m<y.length;)g[e&m]=e&(b^=g[e&m]*19)+y.charCodeAt(m++);return S(g)}function G(){try{var h;return i&&(h=i.randomBytes)?h=h(c):(h=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(h)),S(h)}catch{var g=l.navigator,y=g&&g.plugins;return[+new Date,l,y,l.screen,S(a)]}}function S(h){return String.fromCharCode.apply(0,h)}if(I(f.random(),a),n.exports){n.exports=u;try{i=ee}catch{}}else f["seed"+s]=u})(typeof self<"u"?self:re,[],Math)}(tt)),tt.exports}var lt,qt;function oe(){if(qt)return lt;qt=1;var n=Et(),l=Vt(),a=Wt(),f=Kt(),c=Jt(),v=Yt(),p=ne();return p.alea=n,p.xor128=l,p.xorwow=a,p.xorshift7=f,p.xor4096=c,p.tychei=v,lt=p,lt}var ie=oe();const ae=zt(ie);function ct(n){switch(n){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw new Error(`Invalid direction: ${n}`)}}function se(n,l){return[n%l,Math.floor(n/l)]}function ft(n){return Array.from({length:n*n},(l,a)=>({index:a,walls:{top:!0,right:!0,bottom:!0,left:!0}}))}function et(n,l){return{top:ue(n,1,l),right:fe(n,1,l),bottom:le(n,1,l),left:ce(n,1,l)}}function ue(n,l,a){const f=a*a;return n+a*l<f?n+a*l:null}function le(n,l,a){return n-a*l>=0?n-a*l:null}function ce(n,l,a){return n%a>=l?n-l:null}function fe(n,l,a){return n%a<a-l?n+l:null}function ve(n,l,a){const f=Object.entries(n).filter(([,c])=>c!==null&&!l.includes(c)).map(([c])=>c);return f.length===0?null:f[a(0,f.length-1)]}const xe=({mazeSize:n,randomInt:l})=>{const a=ft(n),f=l(0,n*n-1),c=[f],v=[f];for(;c.length>0;){const p=c[c.length-1],s=et(p,n);let t=ve(s,v,l);if(t===null){c.pop();continue}const r=s[t],o=ct(t);a[p].walls[t]=!1,a[r].walls[o]=!1,v.push(r),c.push(r)}return{maze:a,startIndex:f,endIndex:v[v.length-1],history:v}},pe=({mazeSize:n,randomInt:l})=>{const a=ft(n),f=l(0,n*n-1),c=[f],v=[],p=s=>{const t=et(s.index,n);for(const[r,o]of Object.entries(t))o===null||c.includes(o)||v.push([s,r])};for(p(a[f]);v.length>0;){const s=l(0,v.length-1),[t,r]=v[s],o=et(t.index,n)[r];o!==null&&!c.includes(o)&&(a[t.index].walls[r]=!1,a[o].walls[ct(r)]=!1,c.push(o),p(a[o])),v.splice(s,1)}return{maze:a,startIndex:f,endIndex:c[c.length-1],history:c}},de=({mazeSize:n,randomInt:l})=>{const a=ft(n),f=a.flatMap(t=>Object.keys(t.walls).map(r=>[t,r])).sort(()=>l(0,1)-.5),c=new Map(a.map(t=>[t,t]));function v(t){for(;c.get(t)!==t;)t=c.get(t);return t}function p(t,r){const o=v(t),e=v(r);c.set(e,o)}const s=[f[0][0].index];for(const[t,r]of f){const o=et(t.index,n)[r];if(o==null)continue;const e=a[o];v(t)!==v(e)&&(p(t,e),t.walls[r]=!1,e.walls[ct(r)]=!1,s.push(o))}return{maze:a,startIndex:f[0][0].index,endIndex:f[f.length-1][0].index,history:s}},he=n=>{switch(n.algorithm){case"prim":return pe(n);case"kruskal":return de(n);case"dfs":default:return xe(n)}},ge={dfs:"Depth-First Search",prim:"Prim's",kruskal:"Kruskal's"};function we(n,l,a){d(l).delete(d(a)),z(l,B(new Map(d(l))))}var be=rt("<option> </option>"),me=rt('<div class="cell svelte-u7ylt0"></div>'),ye=rt('<div class="row svelte-u7ylt0"></div>'),_e=rt(`<p>This is a maze generator that I made for fun.</p> <p>I'm hoping to use this as a starting point for some simple browser-based games.</p> <div class="maze-info"><p> </p> <p> </p></div> <div class="maze-controls svelte-u7ylt0"><h3>Controls</h3> <div class="control svelte-u7ylt0"><label for="maze-size">Maze size:</label> <input id="maze-size" type="number"></div> <div class="control svelte-u7ylt0"><label for="seed">Seed:</label> <input id="seed" type="text"> <button>Reset RNG</button></div> <div class="control svelte-u7ylt0"><label for="algorithm">Algorithm:</label> <select id="algorithm"></select></div> <div class="control svelte-u7ylt0"><button>Regenerate Maze</button></div></div> <div class="maze svelte-u7ylt0"></div>`,1);function Re(n,l){It(l,!0);let a=N(B(new Map)),f=N(B(new Date().toISOString().split("T")[0]));function c(w){if(!d(a).has(w)){const _=ae(w);d(a).set(w,(M,T)=>Math.floor(_()*(T-M+1))+M)}return d(a).get(w)}let v=N(25),p=N(0),s=N(0),t=N(B([])),r=N(B([])),o=N("prim"),e=it(()=>se(d(p),d(v)));Ot(()=>{i()});function i(){const w=c(d(f));let _=he({mazeSize:d(v),randomInt:w,algorithm:d(o)});z(t,B(_.maze)),z(p,B(_.startIndex)),z(s,B(_.endIndex)),z(r,B(_.history))}var u=_e(),x=O(xt(u),4),q=P(x),C=P(q);R(q);var I=O(q,2),G=P(I);R(I),R(x);var S=O(x,2),h=O(P(S),2),g=O(P(h),2);pt(g),H(g,"min",1),H(g,"max",100),R(h);var y=O(h,2),b=O(P(y),2);pt(b);var m=O(b,2);m.__click=[we,a,f],R(y);var j=O(y,2),$=O(P(j),2);st($,21,()=>Object.entries(ge),ut,(w,_)=>{let M=()=>d(_)[0],T=()=>d(_)[1];var D=be(),E={},L=P(D,!0);R(D),ot(()=>{E!==(E=M())&&(D.value=(D.__value=M())==null?"":M()),at(L,T())}),F(w,D)}),R($),R(j);var X=O(j,2),k=P(X);k.__click=i,R(X),R(S);var A=O(S,2);st(A,21,()=>Array.from({length:d(v)},(w,_)=>_),ut,(w,_)=>{var M=ye();st(M,21,()=>Array.from({length:d(v)},(T,D)=>D),ut,(T,D)=>{var E=At();const L=it(()=>d(_)*d(v)+d(D)),V=it(()=>d(t)[d(L)]);var $t=xt(E);{var Xt=nt=>{var vt=me();ot(()=>H(vt,"style",`
                        ${(d(p)===d(L)?"background-color: var(--maze-start-bg);":d(s)===d(L)?"background-color: var(--maze-end-bg);":"")??""}
                        border-top: 2px solid ${(d(V).walls.top?"var(--maze-wall-color)":"transparent")??""};
                        border-right: 2px solid ${(d(V).walls.right?"var(--maze-wall-color)":"transparent")??""};
                        border-bottom: 2px solid ${(d(V).walls.bottom?"var(--maze-wall-color)":"transparent")??""};
                        border-left: 2px solid ${(d(V).walls.left?"var(--maze-wall-color)":"transparent")??""};
                    `)),F(nt,vt)};St($t,nt=>{d(V)&&nt(Xt)})}F(T,E)}),R(M),F(w,M)}),R(A),ot(()=>{at(C,`Starting point: ${d(e)[0]+1}, ${d(e)[1]+1}`),at(G,`Maze size: ${d(v)??""} x ${d(v)??""}`),H(A,"style",`width: ${d(v)*20}px; height: ${d(v)*20}px;`)}),dt(g,()=>d(v),w=>z(v,w)),dt(b,()=>d(f),w=>z(f,w)),Bt($,()=>d(o),w=>z(o,w)),F(n,u),Rt()}Ct(["click"]);export{Re as component};

import{p as ne,b as le,h as b,t as D,v as fe,w as F,H as ie,x as G,y as g,c as y,I as M,z as W,a as Z,A as se,B as $,C as J,D as K,F as ue,G as ve,J as te,d as _e,K as de,M as oe,N as ce,O as he,P as Ee,Q as L,R as Y,S as me,T as P,U as j,V as Ae,W as Te,X as Ie,Y as xe,Z as be,o as Ce,_ as Se}from"./Cuta91o9.js";import{l as we}from"./vZJCL_Ss.js";function ke(e,a){return a}function Ne(e,a,r,t){for(var f=[],i=a.length,v=0;v<i;v++)ue(a[v].e,f,!0);var o=i>0&&f.length===0&&r!==null;if(o){var c=r.parentNode;ve(c),c.append(r),t.clear(),C(e,a[0].prev,a[i-1].next)}te(f,()=>{for(var A=0;A<i;A++){var d=a[A];o||(t.delete(d.k),C(e,d.prev,d.next)),_e(d.e,!o)}})}function De(e,a,r,t,f,i=null){var v=e,o={flags:a,items:new Map,first:null},c=(a&j)!==0;if(c){var A=e;v=b?D(de(A)):A.appendChild(ne())}b&&fe();var d=null,I=!1,S=oe(()=>{var n=r();return xe(n)?n:n==null?[]:$(n)});le(()=>{var n=F(S),s=n.length;if(I&&s===0)return;I=s===0;let _=!1;if(b){var w=v.data===ie;w!==(s===0)&&(v=G(),D(v),g(!1),_=!0)}if(b){for(var h=null,E,m=0;m<s;m++){if(y.nodeType===8&&y.data===ce){v=y,_=!0,g(!1);break}var T=n[m],l=t(T,m);E=ee(y,o,h,null,T,l,m,f,a,r),o.items.set(l,E),h=E}s>0&&D(G())}if(!b){var u=he;ye(n,o,v,f,a,(u.f&M)!==0,t,r)}i!==null&&(s===0?d?W(d):d=Z(()=>i(v)):d!==null&&se(d,()=>{d=null})),_&&g(!0),F(S)}),b&&(v=y)}function ye(e,a,r,t,f,i,v,o){var q,B,U,X;var c=(f&Ae)!==0,A=(f&(L|Y))!==0,d=e.length,I=a.items,S=a.first,n=S,s,_=null,w,h=[],E=[],m,T,l,u;if(c)for(u=0;u<d;u+=1)m=e[u],T=v(m,u),l=I.get(T),l!==void 0&&((q=l.a)==null||q.measure(),(w??(w=new Set)).add(l));for(u=0;u<d;u+=1){if(m=e[u],T=v(m,u),l=I.get(T),l===void 0){var ae=n?n.e.nodes_start:r;_=ee(ae,a,_,_===null?a.first:_.next,m,T,u,t,f,o),I.set(T,_),h=[],E=[],n=_.next;continue}if(A&&He(l,m,u,f),(l.e.f&M)!==0&&(W(l.e),c&&((B=l.a)==null||B.unfix(),(w??(w=new Set)).delete(l))),l!==n){if(s!==void 0&&s.has(l)){if(h.length<E.length){var H=E[0],x;_=H.prev;var p=h[0],R=h[h.length-1];for(x=0;x<h.length;x+=1)Q(h[x],H,r);for(x=0;x<E.length;x+=1)s.delete(E[x]);C(a,p.prev,R.next),C(a,_,p),C(a,R,H),n=H,_=R,u-=1,h=[],E=[]}else s.delete(l),Q(l,n,r),C(a,l.prev,l.next),C(a,l,_===null?a.first:_.next),C(a,_,l),_=l;continue}for(h=[],E=[];n!==null&&n.k!==T;)(i||(n.e.f&M)===0)&&(s??(s=new Set)).add(n),E.push(n),n=n.next;if(n===null)continue;l=n}h.push(l),_=l,n=l.next}if(n!==null||s!==void 0){for(var N=s===void 0?[]:$(s);n!==null;)(i||(n.e.f&M)===0)&&N.push(n),n=n.next;var k=N.length;if(k>0){var re=(f&j)!==0&&d===0?r:null;if(c){for(u=0;u<k;u+=1)(U=N[u].a)==null||U.measure();for(u=0;u<k;u+=1)(X=N[u].a)==null||X.fix()}Ne(a,N,re,I)}}c&&Ee(()=>{var z;if(w!==void 0)for(l of w)(z=l.a)==null||z.apply()}),J.first=a.first&&a.first.e,J.last=_&&_.e}function He(e,a,r,t){(t&L)!==0&&K(e.v,a),(t&Y)!==0?K(e.i,r):e.i=r}function ee(e,a,r,t,f,i,v,o,c,A){var d=(c&L)!==0,I=(c&Te)===0,S=d?I?me(f):P(f):f,n=(c&Y)===0?v:P(v),s={i:n,v:S,k:i,a:null,e:null,prev:r,next:t};try{return s.e=Z(()=>o(e,S,n,A),b),s.e.prev=r&&r.e,s.e.next=t&&t.e,r===null?a.first=s:(r.next=s,r.e.next=s.e),t!==null&&(t.prev=s,t.e.prev=s.e),s}finally{}}function Q(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,f=a?a.e.nodes_start:r,i=e.e.nodes_start;i!==t;){var v=Ie(i);f.before(i),i=v}}function C(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ge(e,a,r=a){var t=be();we(e,"input",f=>{var i=f?e.defaultValue:e.value;if(i=O(e)?V(i):i,r(i),t&&i!==(i=a())){var v=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(o,e.value.length))}}),(b&&e.defaultValue!==e.value||Ce(a)==null&&e.value)&&r(O(e)?V(e.value):e.value),Se(()=>{var f=a();O(e)&&f===V(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}function O(e){var a=e.type;return a==="number"||a==="range"}function V(e){return e===""?null:+e}export{ge as b,De as e,ke as i};
